<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trenvise AI - Business Intelligence Command Center</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #208080;
            --color-primary-hover: #1a6565;
            --color-primary-light: #e8f4f4;
            --color-secondary: #2c3e50;
            --color-text: #2c3e50;
            --color-text-light: #7f8c8d;
            --color-bg: #f8f9fa;
            --color-surface: #ffffff;
            --color-border: #e0e0e0;
            --color-success: #27ae60;
            --color-warning: #f39c12;
            --color-error: #e74c3c;
            --color-info: #3498db;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --radius: 8px;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 260px;
            background: var(--color-secondary);
            color: white;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-md);
            overflow-y: auto;
        }

        .logo {
            padding: var(--spacing-lg);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            font-weight: 600;
            font-size: 18px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: var(--color-primary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .nav-menu {
            list-style: none;
            padding: var(--spacing-md) 0;
            flex: 1;
        }

        .nav-item {
            padding: var(--spacing-md) var(--spacing-lg);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background: rgba(32, 128, 128, 0.3);
            border-left-color: var(--color-primary);
            color: var(--color-primary-light);
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            background: var(--color-surface);
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
        }

        .header-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--color-text);
        }

        .header-actions {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: transparent;
            color: var(--color-primary);
            border: 1px solid var(--color-primary);
        }

        .btn-secondary:hover {
            background: var(--color-primary-light);
        }

        .content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* Chat Section */
        .chat-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--color-surface);
            border-right: 1px solid var(--color-border);
        }

        .chat-window {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-lg);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .message {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 12px;
            color: white;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: var(--color-info);
            order: 2;
        }

        .message.ai .message-avatar {
            background: var(--color-primary);
        }

        .message-content {
            max-width: 70%;
            padding: var(--spacing-md);
            border-radius: var(--radius);
        }

        .message.user .message-content {
            background: var(--color-info);
            color: white;
        }

        .message.ai .message-content {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            color: var(--color-text);
        }

        .message-text {
            margin-bottom: var(--spacing-sm);
        }

        .message-text:last-child {
            margin-bottom: 0;
        }

        .insight-section {
            background: var(--color-primary-light);
            border-left: 3px solid var(--color-primary);
            padding: var(--spacing-md);
            border-radius: var(--radius);
            font-size: 13px;
        }

        .insight-title {
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--spacing-sm);
        }

        .insight-item {
            margin-bottom: var(--spacing-sm);
            padding-left: var(--spacing-md);
            position: relative;
        }

        .insight-item:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: var(--color-primary);
        }

        /* Chat Input */
        .chat-input-area {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--color-border);
            background: var(--color-surface);
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }

        .quick-action-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            background: var(--color-primary-light);
            border: 1px solid var(--color-primary);
            color: var(--color-primary);
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.2s;
        }

        .quick-action-btn:hover {
            background: var(--color-primary);
            color: white;
        }

        .input-wrapper {
            display: flex;
            gap: var(--spacing-sm);
        }

        .input-wrapper input {
            flex: 1;
            padding: var(--spacing-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius);
            font-size: 14px;
            font-family: inherit;
        }

        .input-wrapper input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(32, 128, 128, 0.1);
        }

        .input-wrapper button {
            padding: var(--spacing-md) var(--spacing-lg);
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .input-wrapper button:hover {
            background: var(--color-primary-hover);
        }

        .input-wrapper button:active {
            transform: scale(0.98);
        }

        /* Right Panel */
        .right-panel {
            width: 380px;
            background: var(--color-bg);
            border-left: 1px solid var(--color-border);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .panel-section {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--color-border);
        }

        .panel-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--color-text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: var(--spacing-md);
        }

        .kpi-card {
            background: var(--color-surface);
            padding: var(--spacing-md);
            border-radius: var(--radius);
            margin-bottom: var(--spacing-md);
            box-shadow: var(--shadow-sm);
        }

        .kpi-label {
            font-size: 12px;
            color: var(--color-text-light);
            margin-bottom: var(--spacing-xs);
        }

        .kpi-value {
            font-size: 20px;
            font-weight: 600;
            color: var(--color-primary);
        }

        .kpi-change {
            font-size: 12px;
            margin-top: var(--spacing-xs);
        }

        .kpi-change.positive {
            color: var(--color-success);
        }

        .kpi-change.negative {
            color: var(--color-error);
        }

        .chart-placeholder {
            background: var(--color-surface);
            height: 200px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-text-light);
            font-size: 12px;
            margin-top: var(--spacing-md);
        }

        .data-upload {
            background: var(--color-surface);
            border: 2px dashed var(--color-primary);
            border-radius: var(--radius);
            padding: var(--spacing-lg);
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .data-upload:hover {
            background: var(--color-primary-light);
        }

        .upload-icon {
            font-size: 24px;
            margin-bottom: var(--spacing-sm);
        }

        .upload-text {
            font-size: 12px;
            color: var(--color-text-light);
        }

        .upload-text strong {
            color: var(--color-primary);
        }

        .hidden {
            display: none;
        }

        .loading {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--color-primary);
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.4;
            }
        }

        .tab-buttons {
            display: flex;
            gap: var(--spacing-sm);
            border-bottom: 1px solid var(--color-border);
            padding: 0 var(--spacing-lg);
            background: var(--color-surface);
        }

        .tab-btn {
            padding: var(--spacing-md);
            background: none;
            border: none;
            color: var(--color-text-light);
            cursor: pointer;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab-btn.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .tab-content {
            flex: 1;
            overflow-y: auto;
        }

        .recommendation-card {
            background: var(--color-surface);
            border-left: 3px solid var(--color-warning);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
        }

        .recommendation-card.success {
            border-left-color: var(--color-success);
        }

        .recommendation-card.error {
            border-left-color: var(--color-error);
        }

        .recommendation-title {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: var(--spacing-sm);
            color: var(--color-text);
        }

        .recommendation-text {
            font-size: 12px;
            color: var(--color-text-light);
            line-height: 1.5;
        }

        /* Document Upload & Analysis Styles */
        .document-panel {
            background: var(--color-surface);
            border-radius: var(--radius);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-sm);
        }

        .document-section-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .doc-upload-area {
            border: 2px dashed var(--color-primary);
            border-radius: var(--radius);
            padding: var(--spacing-lg);
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--color-primary-light);
        }

        .doc-upload-area:hover {
            border-color: var(--color-primary-hover);
            background: rgba(32, 128, 128, 0.15);
        }

        .doc-upload-icon {
            font-size: 28px;
            margin-bottom: var(--spacing-sm);
        }

        .doc-upload-text {
            font-size: 13px;
            color: var(--color-text);
            font-weight: 500;
        }

        .doc-upload-hint {
            font-size: 11px;
            color: var(--color-text-light);
            margin-top: var(--spacing-sm);
        }

        .uploaded-file {
            background: var(--color-bg);
            border-left: 3px solid var(--color-success);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
            border-radius: var(--radius);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            font-size: 13px;
            color: var(--color-text);
        }

        .file-meta {
            font-size: 11px;
            color: var(--color-text-light);
            margin-top: var(--spacing-xs);
        }

        .file-action {
            color: var(--color-error);
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
        }

        /* Trend & Insights Visualization */
        .trend-card {
            background: linear-gradient(135deg, rgba(32, 128, 128, 0.1) 0%, rgba(39, 174, 96, 0.1) 100%);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            border-left: 3px solid var(--color-success);
        }

        .trend-title {
            font-weight: 600;
            font-size: 13px;
            color: var(--color-primary);
            margin-bottom: var(--spacing-sm);
        }

        .trend-stat {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-text);
            margin-bottom: var(--spacing-xs);
        }

        .trend-direction {
            font-size: 12px;
            color: var(--color-success);
            font-weight: 600;
        }

        .trend-direction.negative {
            color: var(--color-error);
        }

        .mini-chart {
            margin-top: var(--spacing-md);
            height: 60px;
            background: var(--color-surface);
            border-radius: var(--radius);
            display: flex;
            align-items: flex-end;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm);
        }

        .chart-bar {
            flex: 1;
            background: var(--color-primary);
            border-radius: 3px;
            min-height: 4px;
            opacity: 0.7;
        }

        .chart-bar.highlighted {
            opacity: 1;
            background: var(--color-success);
            height: 100%;
        }

        /* Industry Trends & Product Recommendations */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }

        .insight-box {
            background: var(--color-surface);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-sm);
            border-top: 3px solid var(--color-info);
        }

        .insight-box.trending {
            border-top-color: var(--color-warning);
        }

        .insight-box.opportunity {
            border-top-color: var(--color-success);
        }

        .insight-box-title {
            font-weight: 600;
            font-size: 12px;
            color: var(--color-text);
            margin-bottom: var(--spacing-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .insight-box-content {
            font-size: 12px;
            color: var(--color-text-light);
            line-height: 1.5;
        }

        .insight-box-stat {
            font-size: 18px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--spacing-sm);
        }

        /* Partnership & Deal Matching */
        .partnership-card {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1) 0%, rgba(41, 128, 185, 0.1) 100%);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            border-left: 3px solid var(--color-info);
        }

        .partnership-title {
            font-weight: 600;
            font-size: 13px;
            color: var(--color-info);
            margin-bottom: var(--spacing-sm);
        }

        .partnership-item {
            background: var(--color-surface);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius);
            margin-bottom: var(--spacing-sm);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
        }

        .partner-name {
            font-weight: 600;
            color: var(--color-text);
        }

        .match-score {
            background: var(--color-success);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
        }

        .match-score.medium {
            background: var(--color-warning);
        }

        .match-score.low {
            background: var(--color-error);
        }

        /* Advanced Analytics Tab */
        .analytics-dashboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }

        .metric-tile {
            background: var(--color-surface);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-sm);
        }

        .metric-tile-label {
            font-size: 11px;
            color: var(--color-text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: var(--spacing-xs);
        }

        .metric-tile-value {
            font-size: 22px;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: var(--spacing-sm);
        }

        .metric-tile-sparkline {
            height: 30px;
            background: var(--color-bg);
            border-radius: 3px;
            margin-bottom: var(--spacing-xs);
        }

        .metric-tile-change {
            font-size: 12px;
            color: var(--color-success);
        }

        .metric-tile-change.negative {
            color: var(--color-error);
        }
</parameter>

        @media (max-width: 1200px) {
            .right-panel {
                width: 300px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            .right-panel {
                display: none;
            }
            .message-content {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">‚ö°</div>
                <div>Trenvise AI</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" onclick="switchTab('chat')">
                    <div class="nav-icon">üí¨</div>
                    <span>Chat Assistant</span>
                </li>
                <li class="nav-item" onclick="switchTab('analytics')">
                    <div class="nav-icon">üìä</div>
                    <span>Analytics</span>
                </li>
                <li class="nav-item" onclick="switchTab('data')">
                    <div class="nav-icon">üìÅ</div>
                    <span>Data Manager</span>
                </li>
                <li class="nav-item" onclick="switchTab('marketing')">
                    <div class="nav-icon">üìà</div>
                    <span>Marketing Lab</span>
                </li>
                <li class="nav-item" onclick="switchTab('finance')">
                    <div class="nav-icon">üí∞</div>
                    <span>Finance Studio</span>
                </li>
                <li class="nav-item" onclick="switchTab('automations')">
                    <div class="nav-icon">‚öôÔ∏è</div>
                    <span>Automations</span>
                </li>
                <li class="nav-item" onclick="switchTab('documents')">
                    <div class="nav-icon">üìÑ</div>
                    <span>Document Analysis</span>
                </li>
                <li class="nav-item" onclick="switchTab('trends')">
                    <div class="nav-icon">üî•</div>
                    <span>Market Trends</span>
                </li>
                <li class="nav-item" onclick="switchTab('partnerships')">
                    <div class="nav-icon">ü§ù</div>
                    <span>Partner Network</span>
                </li>
            </ul>
            <div style="padding: var(--spacing-lg); border-top: 1px solid rgba(255, 255, 255, 0.1); font-size: 12px; color: rgba(255, 255, 255, 0.7);">
                Version 1.0<br>AI-Powered Business Intelligence
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-title" id="page-title">Business Intelligence Chat</div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="clearChat()">Clear</button>
                    <button class="btn btn-primary" onclick="exportInsights()">Export</button>
                </div>
            </div>

            <!-- Tabs for different sections -->
            <div class="tab-buttons" id="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('chat')">Chat</button>
                <button class="tab-btn" onclick="switchTab('analytics')">Analytics</button>
                <button class="tab-btn" onclick="switchTab('documents')">Documents</button>
                <button class="tab-btn" onclick="switchTab('trends')">Trends</button>
                <button class="tab-btn" onclick="switchTab('partnerships')">Partnerships</button>
            </div>

            <!-- Content Area -->
            <div class="content">
                <!-- Chat Section -->
                <div id="chat-tab" class="chat-section">
                    <div class="chat-window" id="chat-window">
                        <div class="message ai">
                            <div class="message-avatar">T</div>
                            <div class="message-content">
                                <div class="message-text">
                                    <strong>Welcome to Trenvise AI!</strong><br>
                                    I'm your expert business intelligence copilot, combining marketing, finance, and operations analytics.
                                </div>
                                <div class="insight-section">
                                    <div class="insight-title">Get Started</div>
                                    <div class="insight-item">Ask about your marketing performance</div>
                                    <div class="insight-item">Upload and analyze your data</div>
                                    <div class="insight-item">Get financial insights and forecasts</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-area">
                        <div class="quick-actions">
                            <button class="quick-action-btn" onclick="askQuestion('Analyze my ad spend and suggest optimizations')">
                                üí∞ Ad Spend Analysis
                            </button>
                            <button class="quick-action-btn" onclick="askQuestion('Explain my cashflow and revenue trends')">
                                üìà Financial Health
                            </button>
                            <button class="quick-action-btn" onclick="askQuestion('What are the biggest growth opportunities?')">
                                üöÄ Growth Ideas
                            </button>
                            <button class="quick-action-btn" onclick="askQuestion('Summarize customer feedback and sentiment')">
                                üí¨ Customer Voice
                            </button>
                        </div>
                        <div class="input-wrapper">
                            <input 
                                type="text" 
                                id="user-input" 
                                placeholder="Ask me anything about your business..." 
                                onkeypress="handleKeyPress(event)"
                            >
                            <button onclick="sendMessage()">Send</button>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Insights & KPIs -->
                <div class="right-panel">
                    <div class="panel-section">
                        <div class="panel-title">Key Metrics</div>
                        <div class="kpi-card">
                            <div class="kpi-label">Monthly Revenue</div>
                            <div class="kpi-value">$245.8K</div>
                            <div class="kpi-change positive">‚Üë 12.5% from last month</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">Customer Acquisition Cost</div>
                            <div class="kpi-value">$42</div>
                            <div class="kpi-change positive">‚Üì 8% improvement</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">Average ROAS</div>
                            <div class="kpi-value">3.2x</div>
                            <div class="kpi-change negative">‚Üì 2% from target</div>
                        </div>
                        <div class="kpi-card">
                            <div class="kpi-label">Cash Runway</div>
                            <div class="kpi-value">18 months</div>
                            <div class="kpi-change positive">Healthy</div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <div class="panel-title">Latest Recommendations</div>
                        <div class="recommendation-card success">
                            <div class="recommendation-title">‚úì High-Performing Channels</div>
                            <div class="recommendation-text">Instagram ads are delivering 4.1x ROAS. Recommend increasing budget by 20%.</div>
                        </div>
                        <div class="recommendation-card error">
                            <div class="recommendation-title">‚ö† Underperforming Areas</div>
                            <div class="recommendation-text">YouTube ads showing 0.8x ROAS. Consider pausing or testing new creatives.</div>
                        </div>
                        <div class="recommendation-card">
                            <div class="recommendation-title">üí° Opportunity</div>
                            <div class="recommendation-text">Customer feedback shows demand for mobile app. Feature release could boost retention 15%.</div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <div class="panel-title">Data Status</div>
                        <div class="data-upload" onclick="document.getElementById('file-input').click()">
                            <div class="upload-icon">üìä</div>
                            <div class="upload-text">
                                Drop CSV/Excel or <strong>click to upload</strong>
                            </div>
                        </div>
                        <input type="file" id="file-input" style="display: none;" accept=".csv,.xlsx" onchange="handleFileUpload(event)">
                    </div>
                </div>

                <!-- Documents Tab -->
                <div id="documents-tab" class="chat-section hidden">
                    <div class="chat-window" style="padding: var(--spacing-lg); overflow-y: auto;">
                        <div class="document-panel">
                            <div class="document-section-title">
                                üìÑ Upload Financial Documents
                            </div>
                            <div class="doc-upload-area" onclick="document.getElementById('doc-10k-input').click()">
                                <div class="doc-upload-icon">üìë</div>
                                <div class="doc-upload-text">Upload 10-K / Annual Report</div>
                                <div class="doc-upload-hint">PDF, up to 50MB</div>
                            </div>
                            <input type="file" id="doc-10k-input" style="display: none;" accept=".pdf,.docx" onchange="handleDocumentUpload(event, '10K')">
                            <div id="doc-10k-files" style="margin-top: var(--spacing-md);"></div>
                        </div>

                        <div class="document-panel">
                            <div class="document-section-title">
                                üìä Marketing Campaign Documents
                            </div>
                            <div class="doc-upload-area" onclick="document.getElementById('doc-marketing-input').click()">
                                <div class="doc-upload-icon">üìà</div>
                                <div class="doc-upload-text">Upload Campaign Reports (Facebook, Google, LinkedIn, etc.)</div>
                                <div class="doc-upload-hint">PDF, CSV, Excel - Multiple platforms</div>
                            </div>
                            <input type="file" id="doc-marketing-input" style="display: none;" accept=".pdf,.csv,.xlsx,.docx" onchange="handleDocumentUpload(event, 'marketing')">
                            <div id="doc-marketing-files" style="margin-top: var(--spacing-md);"></div>
                        </div>

                        <div class="document-panel">
                            <div class="document-section-title">
                                üíº Business Strategy Documents
                            </div>
                            <div class="doc-upload-area" onclick="document.getElementById('doc-strategy-input').click()">
                                <div class="doc-upload-icon">üìã</div>
                                <div class="doc-upload-text">Upload Business Plans, Pitch Decks, Quarterly Reviews</div>
                                <div class="doc-upload-hint">PDF, DOCX, PowerPoint</div>
                            </div>
                            <input type="file" id="doc-strategy-input" style="display: none;" accept=".pdf,.docx,.pptx" onchange="handleDocumentUpload(event, 'strategy')">
                            <div id="doc-strategy-files" style="margin-top: var(--spacing-md);"></div>
                        </div>

                        <div class="document-panel">
                            <div class="document-section-title">
                                üîç AI Document Analysis
                            </div>
                            <button class="btn btn-primary" onclick="analyzeAllDocuments()" style="width: 100%; margin-bottom: var(--spacing-md);">
                                Analyze All Documents
                            </button>
                            <div id="document-insights" style="margin-top: var(--spacing-md);"></div>
                        </div>
                    </div>
                </div>

                <!-- Market Trends Tab -->
                <div id="trends-tab" class="chat-section hidden">
                    <div class="chat-window" style="padding: var(--spacing-lg); overflow-y: auto;">
                        <div class="document-panel">
                            <div class="document-section-title">
                                üî• Industry Trends & Emerging Opportunities
                            </div>
                            <div id="trends-content"></div>
                        </div>

                        <div class="document-panel">
                            <div class="document-section-title">
                                üöÄ Recommended Products & Services
                            </div>
                            <div id="products-content"></div>
                        </div>

                        <div class="document-panel">
                            <div class="document-section-title">
                                üìà Revenue Growth Strategies by Platform
                            </div>
                            <div id="growth-strategies-content"></div>
                        </div>
                    </div>
                </div>

                <!-- Partnerships Tab -->
                <div id="partnerships-tab" class="chat-section hidden">
                    <div class="chat-window" style="padding: var(--spacing-lg); overflow-y: auto;">
                        <div class="document-panel">
                            <div class="document-section-title">
                                ü§ù Recommended Partner Network
                            </div>
                            <p style="font-size: 12px; color: var(--color-text-light); margin-bottom: var(--spacing-md);">
                                Based on your industry, company size, and growth goals, here are strategic partnerships that could accelerate revenue and reduce costs.
                            </p>
                            <div id="partnerships-content"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management
        let chatHistory = [];
        let uploadedData = null;
        let currentTab = 'chat';

        // AI Agent Brain (Simplified with Rich Responses)
        const aiAgentBrain = {
            marketing: {
                metrics: ['CAC', 'ROAS', 'CTR', 'CPC', 'Conversions', 'LTV'],
                analysis: function(data) {
                    return {
                        goal: 'Optimize marketing performance and ROI',
                        insights: [
                            '<strong>üèÜ Instagram & LinkedIn lead:</strong> Instagram delivers 4.1x ROAS (highest), LinkedIn 3.2x. Together represent 42% of total ad spend.',
                            '<strong>üìâ Facebook declining:</strong> CAC increased 15% MoM while ROAS dropped to 2.1x. Creative fatigue evident in declining CTR (1.8% ‚Üí 1.2%).',
                            '<strong>üìß Email remains strong:</strong> 28% click-through rate outperforms all paid channels. Cost per conversion: $18 (vs $42 average).',
                            '<strong>üì± Mobile-first opportunity:</strong> 67% of conversions from mobile but only 45% of ad spend allocated. Misalignment indicates growth opportunity.',
                            '<strong>üí∞ CAC trending up:</strong> Average CAC at $42, up 8% from last month. LTV:CAC ratio declining from 4.2x to 3.8x (still healthy but declining).'
                        ],
                        actions: [
                            { action: 'Increase Instagram budget by 20-25% ($12K‚Üí$15K)', why: 'Highest ROAS at 4.1x + strong brand lift metrics', effect: 'Expected +18% overall revenue (+$44K), CAC improvement to $38' },
                            { action: 'Pause low-performing YouTube ads + reallocate budget', why: 'YouTube showing 0.8x ROAS, lowest across channels', effect: 'Free $4K monthly, redeploy to top performers, 12% budget efficiency gain' },
                            { action: 'Launch mobile-first creative testing on Facebook', why: 'CAC rising due to creative fatigue + mobile underinvestment', effect: 'Potential 12% CAC reduction + 15% conversion volume increase' },
                            { action: 'Build email nurture sequences for top segments', why: 'Email shows 28% CTR and $18 cost per conversion', effect: 'Reduce overall CAC to $38, improve LTV retention 12%' }
                        ],
                        metrics: ['Weekly CAC by channel', 'Daily ROAS tracking', 'Monthly LTV cohorts', 'Channel attribution', 'Creative fatigue score', 'Cohort retention curves']
                    };
                }
            },
            finance: {
                metrics: ['Revenue', 'Profit', 'Margin', 'Cashflow', 'Runway', 'Burn Rate'],
                analysis: function(data) {
                    return {
                        goal: 'Maximize profitability and ensure financial health',
                        insights: [
                            '<strong>üí∞ Revenue momentum strong:</strong> Monthly revenue at $245.8K, up 12.5% MoM and 8% YoY. Growth trajectory healthy and sustained.',
                            '<strong>üìä Margin compression alert:</strong> Gross margin declining from 61% to 58% due to COGS increase (+5% last quarter). Supply chain cost pressures require attention.',
                            '<strong>‚öôÔ∏è OpEx growing faster than revenue:</strong> Operating costs at $89K/month (+5% growth) vs revenue growth (+8%). Ratio at 36% of revenue (target: 30%).',
                            '<strong>üè¶ Cash position stable:</strong> 18-month runway at current burn rate. However, with increased OpEx trend, runway could compress to 15 months within 2 quarters.',
                            '<strong>üéØ CAC payback period:</strong> 4.2 months (healthy, optimal range 3-5). LTV:CAC ratio at 3.8x (target: 4.5x). Profitability per customer declining slightly.'
                        ],
                        actions: [
                            { action: 'Negotiate vendor contracts for 5-8% COGS reduction ($12K-$18K/month)', why: 'Supply chain cost increase compressed margin 3 points', effect: '3-5% margin restoration = +$7.4K-$12.3K monthly profit, extends runway to 20+ months' },
                            { action: 'Implement department budgets + headcount freeze', why: 'OpEx growth (5%) exceeding revenue growth (8%) is unsustainable long-term', effect: 'Control OpEx to 33% of revenue, save ~$18K monthly by Q2' },
                            { action: 'Right-size marketing spend to high-ROI channels', why: 'Marketing efficiency declining; some channels showing poor LTV:CAC ratios', effect: 'Expected 12-15% spend efficiency gain = +$3.2K monthly profit' },
                            { action: 'Establish price increase strategy for Q2', why: 'Value delivered to customers has increased; market allows price optimization', effect: 'Conservative 3-5% price increase = +$7.4K-$12.3K revenue with minimal churn' }
                        ],
                        metrics: ['Monthly gross margin %', 'CAC payback period (target: 3-5 months)', 'LTV:CAC ratio (target: >4.5x)', 'Monthly burn rate trend', 'OpEx as % of revenue', 'Cash runway forecast']
                    };
                }
            },
            operations: {
                metrics: ['Ticket SLA', 'Team Productivity', 'Process Efficiency', 'Error Rate'],
                analysis: function(data) {
                    return {
                        goal: 'Improve operational efficiency and team productivity',
                        insights: [
                            '<strong>‚è±Ô∏è SLA performance strong:</strong> 94% compliance, trending toward 98% target. Average resolution time: 14 hours (benchmark: 12-16 hours, on track).',
                            '<strong>üìà Productivity gains achieved:</strong> 22% improvement after workflow tool implementation. Team capacity effective; headcount increase may not be needed immediately.',
                            '<strong>ü§ñ Major automation opportunity:</strong> 25 hours/week (18% of team time) spent on manual data entry. High ROI automation target with modest effort.',
                            '<strong>üîÑ First-response time lag:</strong> Current avg 2.3 hours. Ticket categorization errors cause 8% of escalations. AI-powered routing could improve to 45 min.',
                            '<strong>üë• Team burnout risk:</strong> Ticket volume increasing 3% monthly while resolution time static. Without automation, staff utilization trending to 95% (threshold: 85%).'
                        ],
                        actions: [
                            { action: 'Automate data entry for customer onboarding (Zapier/Make integration)', why: '25 hrs/week manual entry = $2.4K monthly labor waste', effect: 'Free 8-10 hours/week per person, redeploy to higher-value work, 15% productivity lift' },
                            { action: 'Deploy AI ticket categorization + auto-routing system', why: 'Categorization errors cause 8% escalations; poor routing extends response times', effect: 'First-response time 45 min (vs 2.3 hrs), 30% resolution time improvement' },
                            { action: 'Implement predictive ticket volume monitoring', why: 'Volume +3% monthly; current team at 90% utilization capacity', effect: 'Prevent burnout, forecast staffing needs, maintain quality' },
                            { action: 'Create self-serve knowledge base for top 15 issues', why: 'These issues represent 40% of ticket volume and routine resolutions', effect: 'Reduce incoming tickets 12-15%, improve CSAT (self-service satisfaction: 4.6/5)' }
                        ],
                        metrics: ['Daily ticket volume + SLA compliance %', 'Team utilization rate (target: <85%)', 'First-response time (target: <45 min)', 'Automation hours saved (weekly)', 'Customer CSAT for self-serve']
                    };
                }
            },
            customer: {
                metrics: ['NPS', 'Sentiment', 'Churn Rate', 'CSAT', 'Themes'],
                analysis: function(data) {
                    return {
                        goal: 'Increase customer satisfaction and reduce churn',
                        insights: [
                            '<strong>üìä NPS score: 42/100 (Good ‚Üí Target: 50+):</strong> 38% Promoters, 40% Passives, 22% Detractors. Industry benchmark: 40-50. Gap of 8 points = 12-15% revenue impact.',
                            '<strong>üö® Onboarding is primary pain:</strong> 23% complaints about complex setup. Churn among "onboarding difficulty" cohort: 18% (vs overall 8%). This single issue drives 2.25x higher churn.',
                            '<strong>üí≥ Pricing transparency concerns:</strong> 18% mention confusion about pricing tiers/add-ons. Correlates with lower LTV (+$5-12K ARR difference between transparent vs opaque pricing). Trust impact significant.',
                            '<strong>‚≠ê Support quality praised:</strong> 34% of positive feedback mentions support team. CSAT: 4.2/5. This is strength; over-index messaging.',
                            '<strong>üéØ Feature gap real:</strong> Top 3 requested features account for 31% of feedback. Estimated impact: +8-12% satisfaction upon delivery + competitive moat.'
                        ],
                        actions: [
                            { action: 'Launch interactive onboarding redesign (2-week sprint)', why: '23% complaints, 18% churn rate (vs 8%), leads all dissatisfaction drivers', effect: 'Reduce onboarding churn to 8% (eliminate the gap), NPS +3-4 points, +$38K-60K ARR retention' },
                            { action: 'Create transparent pricing page + calculator', why: 'Pricing confusion drives 18% complaints and trust erosion; competitive advantage', effect: 'NPS +2-3 points, increase ARR per customer +$5-12K, reduce sales cycle friction 15%' },
                            { action: 'Build & ship top 3 customer-requested features (Q1 roadmap)', why: '31% of feedback requests these; quick wins with high impact', effect: 'CSAT +8-12%, NPS +4-5 points, reduce churn from feature gap by 12%' },
                            { action: 'Implement quarterly customer advisory board + monthly product feedback loop', why: 'Reduce feedback lag, build loyalty, inform roadmap', effect: 'Improve feature-market fit, reduce surprise churn, increase NPS' }
                        ],
                        metrics: ['Weekly NPS tracking', 'Sentiment by theme (onboarding, pricing, features)', 'Churn rate by reason (target: <6%)', 'Time-to-value for new users', 'Feature adoption % (top 3)']
                    };
                }
            }
        };

        // Router: Determine AI agent to use
        function routeQuestion(question) {
            const lowerQ = question.toLowerCase();
            
            if (lowerQ.includes('ad') || lowerQ.includes('roas') || lowerQ.includes('campaign') || lowerQ.includes('channel') || lowerQ.includes('cac')) {
                return 'marketing';
            } else if (lowerQ.includes('cash') || lowerQ.includes('profit') || lowerQ.includes('revenue') || lowerQ.includes('margin') || lowerQ.includes('expense') || lowerQ.includes('budget')) {
                return 'finance';
            } else if (lowerQ.includes('customer') || lowerQ.includes('feedback') || lowerQ.includes('sentiment') || lowerQ.includes('churn') || lowerQ.includes('nps')) {
                return 'customer';
            } else if (lowerQ.includes('process') || lowerQ.includes('workflow') || lowerQ.includes('productivity') || lowerQ.includes('team') || lowerQ.includes('automation')) {
                return 'operations';
            } else {
                // Default to general analysis combining insights
                return 'general';
            }
        }

        // Format AI response
        function formatAIResponse(analysis) {
            let html = '';
            
            html += `<div class="insight-section">
                <div class="insight-title">Goal: ${analysis.goal}</div>
            </div>`;

            html += '<div style="margin: var(--spacing-md) 0;"><strong>Key Insights:</strong></div>';
            analysis.insights.forEach(insight => {
                html += `<div class="insight-item">${insight}</div>`;
            });

            html += '<div style="margin: var(--spacing-md) 0; margin-top: var(--spacing-lg);"><strong>Recommended Actions:</strong></div>';
            analysis.actions.forEach((action, i) => {
                html += `<div style="margin-bottom: var(--spacing-md);">
                    <strong>${i + 1}. ${action.action}</strong><br>
                    <span style="font-size: 12px; color: var(--color-text-light);">Why: ${action.why}</span><br>
                    <span style="font-size: 12px; color: var(--color-success);"><strong>Expected Effect:</strong> ${action.effect}</span>
                </div>`;
            });

            html += '<div style="margin: var(--spacing-md) 0; margin-top: var(--spacing-lg);"><strong>Metrics to Watch:</strong></div>';
            analysis.metrics.forEach(metric => {
                html += `<div class="insight-item">${metric}</div>`;
            });

            return html;
        }

        // Send message and get AI response
        function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            input.value = '';

            // Simulate AI thinking
            setTimeout(() => {
                // Route question to appropriate agent
                const agent = routeQuestion(message);
                let analysis;

                if (agent === 'general') {
                    // Combined analysis for general questions
                    const marketing = aiAgentBrain.marketing.analysis();
                    const finance = aiAgentBrain.finance.analysis();
                    analysis = {
                        goal: 'Provide comprehensive business insights across all domains',
                        insights: [
                            ...marketing.insights.slice(0, 2),
                            ...finance.insights.slice(0, 2),
                            'Business health is stable with strong growth trajectory'
                        ],
                        actions: [
                            ...marketing.actions.slice(0, 1),
                            ...finance.actions.slice(0, 1)
                        ],
                        metrics: [...marketing.metrics.slice(0, 2), ...finance.metrics.slice(0, 2)]
                    };
                } else {
                    analysis = aiAgentBrain[agent].analysis();
                }

                addMessage(formatAIResponse(analysis), 'ai');
            }, 1000);
        }

        // Add message to chat
        function addMessage(text, sender) {
            const message = document.createElement('div');
            message.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = sender === 'user' ? 'You' : 'T';
            
            const content = document.createElement('div');
            content.className = 'message-content';
            content.innerHTML = text;
            
            if (sender === 'user') {
                message.appendChild(content);
                message.appendChild(avatar);
            } else {
                message.appendChild(avatar);
                message.appendChild(content);
            }
            
            document.getElementById('chat-window').appendChild(message);
            document.getElementById('chat-window').scrollTop = document.getElementById('chat-window').scrollHeight;
            
            chatHistory.push({ sender, text });
        }

        // Handle quick action buttons
        function askQuestion(question) {
            document.getElementById('user-input').value = question;
            sendMessage();
        }

        // Handle keyboard input
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Clear chat
        function clearChat() {
            document.getElementById('chat-window').innerHTML = '';
            chatHistory = [];
            addMessage('<strong>Chat cleared.</strong> Ready to analyze your business data again!', 'ai');
        }

        // Export insights
        function exportInsights() {
            if (chatHistory.length === 0) {
                alert('No chat history to export yet.');
                return;
            }
            
            let content = 'Trenvise AI - Business Intelligence Report\n';
            content += `Generated: ${new Date().toLocaleString()}\n\n`;
            
            chatHistory.forEach(msg => {
                content += `${msg.sender.toUpperCase()}:\n${msg.text}\n\n`;
            });
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `trenvise-report-${Date.now()}.txt`;
            a.click();
        }

        // File upload handler
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                uploadedData = file.name;
                addMessage(`Great! I've received your file: <strong>${file.name}</strong><br>I can now analyze your marketing, financial, and operational data. What insights would you like me to uncover?`, 'ai');
            }
        }

        // Document uploads storage
        let uploadedDocuments = {
            '10K': [],
            'marketing': [],
            'strategy': []
        };

        // Document Upload Handler
        function handleDocumentUpload(event, docType) {
            const files = event.target.files;
            if (!files.length) return;

            for (let file of files) {
                uploadedDocuments[docType].push({
                    name: file.name,
                    size: (file.size / 1024 / 1024).toFixed(2),
                    type: docType,
                    uploadedAt: new Date().toLocaleDateString()
                });

                // Display file in UI
                const containerId = `doc-${docType}-files`;
                const container = document.getElementById(containerId);
                const fileEl = document.createElement('div');
                fileEl.className = 'uploaded-file';
                fileEl.innerHTML = `
                    <div class="file-info">
                        <div class="file-name">‚úì ${file.name}</div>
                        <div class="file-meta">${(file.size / 1024 / 1024).toFixed(2)} MB ‚Ä¢ ${new Date().toLocaleString()}</div>
                    </div>
                    <div class="file-action" onclick="removeDocument('${docType}', '${file.name}')">Remove</div>
                `;
                container.appendChild(fileEl);

                // Show success message in chat
                addMessage(`‚úì <strong>${file.name}</strong> uploaded successfully (${docType.toUpperCase()} Document). I can now analyze this data for insights.`, 'ai');
            }
        }

        // Remove Document
        function removeDocument(docType, fileName) {
            uploadedDocuments[docType] = uploadedDocuments[docType].filter(d => d.name !== fileName);
            const containerId = `doc-${docType}-files`;
            document.getElementById(containerId).innerHTML = uploadedDocuments[docType].map(d => `
                <div class="uploaded-file">
                    <div class="file-info">
                        <div class="file-name">‚úì ${d.name}</div>
                        <div class="file-meta">${d.size} MB ‚Ä¢ ${d.uploadedAt}</div>
                    </div>
                    <div class="file-action" onclick="removeDocument('${docType}', '${d.name}')">Remove</div>
                </div>
            `).join('');
        }

        // Analyze All Documents
        function analyzeAllDocuments() {
            const totalDocs = uploadedDocuments['10K'].length + uploadedDocuments['marketing'].length + uploadedDocuments['strategy'].length;
            if (totalDocs === 0) {
                alert('Please upload at least one document to analyze.');
                return;
            }

            switchTab('documents');
            const insightsDiv = document.getElementById('document-insights');
            insightsDiv.innerHTML = '<div class="loading"></div> Analyzing documents...';

            setTimeout(() => {
                insightsDiv.innerHTML = `
                    <div class="trend-card">
                        <div class="trend-title">üìä Financial Health Summary (From 10-K Analysis)</div>
                        <div style="margin-top: var(--spacing-md);">
                            <strong>Key Findings:</strong>
                            <ul style="margin-left: var(--spacing-md); margin-top: var(--spacing-sm); font-size: 12px; color: var(--color-text-light);">
                                <li>Revenue CAGR: 18% YoY - Strong growth trajectory</li>
                                <li>Gross Margin: 58% - Healthy but declining (was 61% last year)</li>
                                <li>Operating Expenses: 36% of revenue - Opportunity to optimize</li>
                                <li>Cash Runway: 18 months - Adequate, but can be extended</li>
                                <li>Market Position: Top 3 in SaaS segment, competitive pressure rising</li>
                            </ul>
                        </div>
                    </div>

                    <div class="trend-card">
                        <div class="trend-title">üìà Marketing Campaign Performance Analysis</div>
                        <div style="margin-top: var(--spacing-md);">
                            <strong>Channel Performance Insights:</strong>
                            <ul style="margin-left: var(--spacing-md); margin-top: var(--spacing-sm); font-size: 12px; color: var(--color-text-light);">
                                <li><strong style="color: var(--color-success);">High Performers:</strong> Instagram (4.1x ROAS), LinkedIn (3.2x), Email (28% CTR)</li>
                                <li><strong style="color: var(--color-warning);">Medium Performers:</strong> Google Search (2.8x ROAS), TikTok (2.4x ROAS)</li>
                                <li><strong style="color: var(--color-error);">Underperformers:</strong> YouTube (0.8x ROAS), Twitter (1.1x ROAS)</li>
                                <li><strong>CAC Trend:</strong> Rising 8% MoM - Needs immediate optimization</li>
                                <li><strong>Opportunity:</strong> 23% spend is on low-ROAS channels - Can redirect to top performers</li>
                            </ul>
                        </div>
                    </div>

                    <div class="trend-card">
                        <div class="trend-title">üí° Strategic Recommendations from Document Analysis</div>
                        <div style="margin-top: var(--spacing-md);">
                            <ol style="margin-left: var(--spacing-md); margin-top: var(--spacing-sm); font-size: 12px; color: var(--color-text-light);">
                                <li><strong>Immediate (30 days):</strong> Reallocate 23% of underperforming channel budget to Instagram/LinkedIn</li>
                                <li><strong>Short-term (60 days):</strong> Launch new product line based on market trends (AI-powered analytics tools)</li>
                                <li><strong>Medium-term (90 days):</strong> Negotiate vendor contracts for COGS reduction (target: 5-8%)</li>
                                <li><strong>Strategic:</strong> Establish 2-3 key partnerships to accelerate distribution and reduce customer acquisition costs</li>
                            </ol>
                        </div>
                    </div>
                `;
            }, 2000);
        }

        // Initialize Trends Content
        function initializeTrendsTab() {
            const trendsDiv = document.getElementById('trends-content');
            trendsDiv.innerHTML = `
                <div class="insights-grid">
                    <div class="insight-box trending">
                        <div class="insight-box-title">üî• Trending Now</div>
                        <div class="insight-box-stat">AI-Powered Analytics</div>
                        <div class="insight-box-content">
                            Market growth: +45% YoY. Demand surge in automation, predictive analytics, and real-time dashboards. Your company is well-positioned.
                        </div>
                    </div>

                    <div class="insight-box trending">
                        <div class="insight-box-title">üî• Emerging Opportunity</div>
                        <div class="insight-box-stat">Vertical SaaS</div>
                        <div class="insight-box-content">
                            Enterprise customers demanding industry-specific solutions. Opportunity: Build vertical modules (Finance, Healthcare, Retail).
                        </div>
                    </div>

                    <div class="insight-box opportunity">
                        <div class="insight-box-title">üìä Market Gap</div>
                        <div class="insight-box-stat">+$2.3B TAM</div>
                        <div class="insight-box-content">
                            Small/mid-market segment underserved. Pricing at $99-299/month could capture 15-20% market share (vs current 3.2%).
                        </div>
                    </div>

                    <div class="insight-box opportunity">
                        <div class="insight-box-title">üéØ Customer Behavior Shift</div>
                        <div class="insight-box-stat">-30% On-Premise Demand</div>
                        <div class="insight-box-content">
                            Cloud-first adoption accelerating. Invest in API-first architecture and marketplace integrations for competitive advantage.
                        </div>
                    </div>
                </div>
            `;

            const productsDiv = document.getElementById('products-content');
            productsDiv.innerHTML = `
                <div class="insights-grid">
                    <div class="insight-box">
                        <div class="insight-box-title">üöÄ Product #1</div>
                        <div class="insight-box-stat">Mobile App</div>
                        <div class="insight-box-content">
                            <strong>Rationale:</strong> 67% of conversions from mobile; app engagement 3x higher than web.<br>
                            <strong>Revenue Impact:</strong> +$120K-180K ARR (12-18 months)<br>
                            <strong>Investment:</strong> $80K-120K development
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-box-title">üéØ Product #2</div>
                        <div class="insight-box-stat">AI Automation Module</div>
                        <div class="insight-box-content">
                            <strong>Rationale:</strong> 45% market interest in automation features; +45% market growth.<br>
                            <strong>Revenue Impact:</strong> +$200K-300K ARR (add-on revenue)<br>
                            <strong>Investment:</strong> $120K development (leverage existing AI)
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-box-title">üíº Product #3</div>
                        <div class="insight-box-stat">Industry-Vertical Packages</div>
                        <div class="insight-box-content">
                            <strong>Rationale:</strong> Enterprise demand for vertical SaaS solutions; pricing power +25%.<br>
                            <strong>Revenue Impact:</strong> +$150K-250K ARR (higher margins)<br>
                            <strong>Investment:</strong> $60K product customization
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-box-title">üîó Product #4</div>
                        <div class="insight-box-stat">Marketplace/API Ecosystem</div>
                        <div class="insight-box-content">
                            <strong>Rationale:</strong> Integration platform allowing 3rd-party apps; reduces churn 12%.<br>
                            <strong>Revenue Impact:</strong> +$180K-250K ARR (ecosystem revenue share)<br>
                            <strong>Investment:</strong> $100K developer portal + API docs
                        </div>
                    </div>
                </div>
            `;

            const strategiesDiv = document.getElementById('growth-strategies-content');
            strategiesDiv.innerHTML = `
                <div class="recommendation-card success">
                    <div class="recommendation-title">üì± Facebook / Meta Strategy</div>
                    <div class="recommendation-text">
                        <strong>Current:</strong> 2.1x ROAS, rising CAC<br>
                        <strong>Issue:</strong> Creative fatigue + audience saturation<br>
                        <strong>Action:</strong> Test dynamic product ads + video content. Reallocate budget to lookalike audiences. Expected: +1.5x ROAS recovery
                    </div>
                </div>

                <div class="recommendation-card success">
                    <div class="recommendation-title">üîç Google Search Evolution</div>
                    <div class="recommendation-text">
                        <strong>Current:</strong> 2.8x ROAS, steady<br>
                        <strong>Opportunity:</strong> Automation in bid management + new keyword clusters<br>
                        <strong>Action:</strong> Implement Performance Max campaigns + AI bid optimization. Expected: +15-20% ROAS improvement
                    </div>
                </div>

                <div class="recommendation-card success">
                    <div class="recommendation-title">üé• Video Content Push (TikTok + YouTube)</div>
                    <div class="recommendation-text">
                        <strong>Current:</strong> YouTube 0.8x (poor), TikTok 2.4x (decent)<br>
                        <strong>Strategy:</strong> Pause YouTube ads. Shift budget to TikTok for brand awareness + link to email nurture<br>
                        <strong>Action:</strong> Create vertical video series. Build retargeting on TikTok viewers. Expected: +2.8x ROAS from TikTok
                    </div>
                </div>

                <div class="recommendation-card success">
                    <div class="recommendation-title">üìß Email + Content Marketing Synergy</div>
                    <div class="recommendation-text">
                        <strong>Current:</strong> 28% CTR (best performer), low CAC ($18)<br>
                        <strong>Scale Strategy:</strong> Use paid ads to build email list. Nurture with content + product education<br>
                        <strong>Action:</strong> Build 4-week onboarding email sequences. Add webinar series. Expected: +25-30% customer LTV
                    </div>
                </div>
            `;
        }

        // Initialize Partnerships Tab
        function initializePartnershipsTab() {
            const partnersDiv = document.getElementById('partnerships-content');
            partnersDiv.innerHTML = `
                <div class="partnership-card">
                    <div class="partnership-title">Strategic Technology Partnerships</div>
                    <div class="partnership-item">
                        <div class="partner-name">Zapier / Make (Automation Integration)</div>
                        <span class="match-score">95% Match</span>
                    </div>
                    <div class="partnership-item">
                        <div class="partner-name">Stripe / Chargebee (Payments)</div>
                        <span class="match-score">92% Match</span>
                    </div>
                    <div class="partnership-item">
                        <div class="partner-name">Slack / Teams (Notifications & Integration)</div>
                        <span class="match-score">88% Match</span>
                    </div>
                </div>

                <div class="partnership-card">
                    <div class="partnership-title">Revenue-Sharing & Channel Partners</div>
                    <div class="partnership-item">
                        <div class="partner-name">Salesforce (AppExchange Integration)</div>
                        <span class="match-score">94% Match</span>
                    </div>
                    <div class="partnership-item">
                        <div class="partner-name">HubSpot (Marketplace Partner Program)</div>
                        <span class="match-score">91% Match</span>
                    </div>
                    <div class="partnership-item">
                        <div class="partner-name">G2 Reviews / Capterra (Lead Generation)</div>
                        <span class="match-score">89% Match</span>
                    </div>
                </div>

                <div class="partnership-card">
                    <div class="partnership-title">Strategic Business Partnerships</div>
                    <div class="partnership-item">
                        <div class="partner-name">Industry Consulting Firms (Lead Referrals)</div>
                        <span class="match-score medium">72% Match</span>
                    </div>
                    <div class="partnership-item">
                        <div class="partner-name">Marketing Agencies (Reseller Agreements)</div>
                        <span class="match-score">85% Match</span>
                    </div>
                    <div class="partnership-item">
                        <div class="partner-name">Freelancer Platforms (Service Extensions)</div>
                        <span class="match-score medium">68% Match</span>
                    </div>
                </div>

                <div style="background: var(--color-primary-light); border-radius: var(--radius); padding: var(--spacing-md); margin-top: var(--spacing-md);">
                    <strong style="color: var(--color-primary);">üí∞ Expected Partnership Revenue Impact:</strong>
                    <ul style="margin-left: var(--spacing-md); margin-top: var(--spacing-sm); font-size: 12px; color: var(--color-text-light);">
                        <li><strong>Zapier/Make:</strong> +$80K-120K ARR (commission on automation workflows)</li>
                        <li><strong>Salesforce/HubSpot:</strong> +$150K-200K ARR (app marketplace revenue + co-marketing leads)</li>
                        <li><strong>Marketing Agencies:</strong> +$120K-180K ARR (reseller commissions)</li>
                        <li><strong>Total Potential:</strong> +$350K-500K ARR from partnerships</li>
                    </ul>
                </div>
            `;
        }

        // Tab switching
        function switchTab(tab) {
            currentTab = tab;
            
            // Hide all tabs
            document.querySelectorAll('[id$="-tab"]').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Show selected tab
            const tabElement = document.getElementById(tab + '-tab');
            if (tabElement) {
                tabElement.classList.remove('hidden');
            }
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            
            event?.target?.closest('.nav-item')?.classList.add('active');
            event?.target?.classList.add('active');
            
            const titles = {
                'chat': 'Business Intelligence Chat',
                'analytics': 'Analytics Dashboard',
                'documents': 'Document Intelligence Analysis',
                'trends': 'Market Trends & Product Roadmap',
                'partnerships': 'Strategic Partner Network',
                'data': 'Data Manager',
                'marketing': 'Marketing Lab',
                'finance': 'Finance Studio',
                'automations': 'Automation Studio'
            };
            
            document.getElementById('page-title').textContent = titles[tab] || 'Trenvise AI';
            
            // Initialize specific tabs on first load
            if (tab === 'trends' && !document.getElementById('trends-content').innerHTML) {
                initializeTrendsTab();
            }
            if (tab === 'partnerships' && !document.getElementById('partnerships-content').innerHTML) {
                initializePartnershipsTab();
            }
        }

        // Initialize
        window.addEventListener('load', () => {
            console.log('Trenvise AI Enterprise loaded successfully');
        });
    </script>
</body>
</html>
